(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[1],{175:function(e,n,t){"use strict";t.r(n),t.d(n,"onInit",function(){return f}),t.d(n,"onDestroy",function(){return h});var a=t(176),s=t.n(a),r=t(181),i=t.n(r),o=t(187),l=t(205),c=t(207),u=t(208),p=t(219),m=t(228),d=t(229);function f(e){const{sceneContext:n,messageBusObserver:t,storeObserver:a,pushMessage:r,pushAction:f,gameObjects:h}=e;i.a.render(s.a.createElement(l.default,{messageBusObserver:t,storeObserver:a,pushMessage:r,pushAction:f,gameObjects:h},s.a.createElement(o.MemoryRouter,null,s.a.createElement(c.default,{sceneName:n.name},s.a.createElement(o.Switch,null,s.a.createElement(o.Route,{path:"/mainMenu"},s.a.createElement(u.default,null)),s.a.createElement(o.Route,{path:"/game"},s.a.createElement(p.default,null)),s.a.createElement(o.Route,{path:"/circles"},s.a.createElement(m.default,null)),s.a.createElement(o.Route,{path:"/boxesAndCircles"},s.a.createElement(d.default,null)))))),document.getElementById("ui-root"))}function h(){i.a.unmountComponentAtNode(document.getElementById("ui-root"))}},205:function(e,n,t){"use strict";t.r(n);var a=t(176),s=t.n(a),r=t(189),i=t.n(r),o=t(206);class l extends s.a.Component{constructor(e){super(e),this.state={value:{messageBusObserver:this.props.messageBusObserver,storeObserver:this.props.storeObserver,pushMessage:this.props.pushMessage,pushAction:this.props.pushAction,gameObjects:this.props.gameObjects}}}render(){return s.a.createElement(o.default.Provider,{value:this.state.value},this.props.children)}}l.propTypes={children:i.a.node,messageBusObserver:i.a.any,storeObserver:i.a.any,pushMessage:i.a.func,pushAction:i.a.func,gameObjects:i.a.any},n.default=l},206:function(e,n,t){"use strict";t.r(n);var a=t(176);const s=t.n(a).a.createContext();n.default=s},207:function(e,n,t){"use strict";t.r(n);var a=t(176),s=t.n(a),r=t(189),i=t.n(r),o=t(187);class l extends s.a.Component{componentDidMount(){this.props.history.push(`/${this.props.sceneName}`)}render(){return s.a.createElement(s.a.Fragment,null,this.props.children)}}l.propTypes={children:i.a.node.isRequired,history:i.a.object.isRequired,sceneName:i.a.string.isRequired},n.default=Object(o.withRouter)(l)},208:function(e,n,t){"use strict";t.r(n);var a=t(176),s=t.n(a),r=t(189),i=t.n(r),o=t(209),l=t(210),c=t(215),u=t(216);t(217);const p="LOAD_SCENE",m="game";class d extends s.a.Component{onPlay(){this.props.pushMessage({type:p,name:m,clean:!0})}render(){return s.a.createElement("div",{className:"main-menu"},s.a.createElement("main",{className:"main-menu__main"},s.a.createElement("header",{className:"main-menu__header"},s.a.createElement("h1",{className:"main-menu__title"},"Roosters Fight")),s.a.createElement("nav",{className:"main-menu__menu menu"},s.a.createElement("ul",{className:"menu__list"},s.a.createElement("li",{className:"menu__item"},s.a.createElement(l.default,{className:"menu__button",title:"Play",onClick:()=>this.onPlay()}))))),s.a.createElement("footer",{className:"main-menu__footer"},s.a.createElement("ul",{className:"main-menu__socials socials"},s.a.createElement("li",{className:"socials__item"},s.a.createElement("a",{className:"socials__link socials__link_github",href:"https://github.com/michailRemmele/roosters-fight",target:"_blank",rel:"noopener noreferrer"},s.a.createElement(c.default,{className:"socials__icon"}))),s.a.createElement("li",{className:"socials__item"},s.a.createElement("a",{className:"socials__link socials__link_telegram",href:"https://t.me/misha_pishet_dvizhok",target:"_blank",rel:"noopener noreferrer"},s.a.createElement(u.default,{className:"socials__icon"}))))))}}d.propTypes={pushMessage:i.a.func},n.default=Object(o.default)(d)},209:function(e,n,t){"use strict";t.r(n);var a=t(176),s=t.n(a),r=t(206);function i(){return(i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}n.default=function(e){class n extends s.a.Component{render(){return s.a.createElement(r.default.Consumer,null,({messageBusObserver:n,storeObserver:t,pushMessage:a,pushAction:r,gameObjects:o})=>s.a.createElement(e,i({messageBusObserver:n,storeObserver:t,pushMessage:a,pushAction:r,gameObjects:o},this.props)))}}return n.displayName=`WithGame(${function(e){return e.displayName||e.name||"Component"}(e)})`,n}},210:function(e,n,t){"use strict";t.r(n);var a=t(176),s=t.n(a),r=t(189),i=t.n(r);t(211);class o extends s.a.Component{render(){return s.a.createElement("button",{className:`button ${this.props.className}`,onClick:this.props.onClick},this.props.title)}}o.defaultProps={className:"",title:"",onClick:()=>{}},o.propTypes={className:i.a.string,title:i.a.string,onClick:i.a.func},n.default=o},211:function(e,n,t){var a=t(212),s=t(213);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var r={insert:"head",singleton:!1};a(s,r);e.exports=s.locals||{}},213:function(e,n,t){"use strict";t.r(n);var a=t(214),s=t.n(a)()(!1);s.push([e.i,".button {\n  width: 100%;  \n  height: 50px;\n\n  color: #fff;\n  background-color: transparent;\n  border: 1px solid #fff;\n\n  font-size: 24px;\n  text-transform: uppercase;\n}\n\n.button:hover {\n  cursor: pointer;\n}\n\n.button:focus, .button:hover {\n  outline: none;\n\n  color: #000;\n  background-color: #fff;\n}",""]),n.default=s},215:function(e,n,t){"use strict";t.r(n);var a=t(176);function s(){return(s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}var r=a.createElement("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"});n.default=function(e){return a.createElement("svg",s({viewBox:"0 0 24 24"},e),r)}},216:function(e,n,t){"use strict";t.r(n);var a=t(176);function s(){return(s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}var r=a.createElement("path",{d:"M23.91 3.79L20.3 20.84c-.25 1.21-.98 1.5-2 .94l-5.5-4.07-2.66 2.57c-.3.3-.55.56-1.1.56-.72 0-.6-.27-.84-.95L6.3 13.7.85 12c-1.18-.35-1.19-1.16.26-1.75l21.26-8.2c.97-.43 1.9.24 1.53 1.73z"});n.default=function(e){return a.createElement("svg",s({viewBox:"0 0 24 24"},e),r)}},217:function(e,n,t){var a=t(212),s=t(218);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var r={insert:"head",singleton:!1};a(s,r);e.exports=s.locals||{}},218:function(e,n,t){"use strict";t.r(n);var a=t(214),s=t.n(a)()(!1);s.push([e.i,".main-menu {\n  display: flex;\n  flex-direction: column;\n\n  width: 100%;\n  height: 100%;\n\n  background-color: #000;\n\n  font-family: sans-serif;\n}\n\n.main-menu__main {\n  flex: 1;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.main-menu__header {\n  margin-bottom: 40px;\n}\n\n.main-menu__title {\n  margin: 0;\n  color: #fff;\n\n  font-size: 48px;\n}\n\n.menu__list {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n.menu__item + .menu__item {\n  margin-top: 15px;\n}\n\n.menu__button {\n  width: 200px;\n}\n\n.main-menu__footer {\n  margin: 15px 20px;\n}\n\n.socials {\n  display: flex;\n  justify-content: flex-end;\n\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n.socials__item {\n  margin: 5px;\n}\n\n.socials__item + .socials__item {\n  margin-left: 10px;\n}\n\n.socials__link {\n  display: block;\n}\n\n.socials__icon {\n  display: block;\n\n  width: 20px;\n  height: 20px;\n  fill: #fff;\n}",""]),n.default=s},219:function(e,n,t){"use strict";t.r(n);var a=t(176),s=t.n(a),r=t(189),i=t.n(r),o=t(209),l=t(220),c=t(223),u=t(210);t(226);const p="VICTORY",m="DEFEAT",d="LOAD_SCENE",f="game",h="mainMenu",g="1",_="health",b="weapon",x={GAME:"game",VICTORY:"victory",DEFEAT:"defeat"};class v extends s.a.Component{constructor(e){super(e),this.state={pageState:x.GAME},this.renderStateStrategy={[x.GAME]:()=>this.renderHud(),[x.VICTORY]:()=>s.a.createElement(s.a.Fragment,null,this.renderHud(),s.a.createElement("div",{className:"game__overlay"},this.renderVictoryDialog())),[x.DEFEAT]:()=>s.a.createElement(s.a.Fragment,null,this.renderHud(),s.a.createElement("div",{className:"game__overlay"},this.renderDefeatDialog()))},this.messageBusSubscription=this.onMessageBusUpdate.bind(this),this.playerSubscription=this.onPlayerUpdate.bind(this)}componentDidMount(){this.props.messageBusObserver.subscribe(this.messageBusSubscription),this.props.gameObjects.subscribe(this.playerSubscription,g)}componentWillUnmount(){this.props.messageBusObserver.unsubscribe(this.messageBusSubscription),this.props.gameObjects.unsubscribe(this.playerSubscription,g)}onMessageBusUpdate(e){e.get(p)?this.setState({pageState:x.VICTORY}):e.get(m)&&this.setState({pageState:x.DEFEAT})}onPlayerUpdate(e){if(!e)return void this.setState({health:0,isReload:!1});const n=e.getComponent(_),t=e.getComponent(b),a={};n.points!==this.state.health&&(a.health=n.points);const s=t.cooldownRemaining>0;s!==this.state.isReload&&(a.isReload=s),t.name!==this.state.weaponName&&(a.weaponName=t.name),Object.keys(a).length&&this.setState(a)}onRestart(){this.props.pushMessage({type:d,name:f,unloadCurrent:!0,clean:!0})}onMainMenu(){this.props.pushMessage({type:d,name:h,unloadCurrent:!0})}renderDialog(e){return s.a.createElement("div",{className:"game__dialog dialog"},s.a.createElement("h2",{className:"dialog__title"},e),s.a.createElement("footer",{className:"dialog__footer"},s.a.createElement(u.default,{className:"dialog__button",title:"Restart",onClick:()=>this.onRestart()}),s.a.createElement(u.default,{className:"dialog__button",title:"Main menu",onClick:()=>this.onMainMenu()})))}renderDefeatDialog(){return this.renderDialog("Defeat")}renderVictoryDialog(){return this.renderDialog("Victory")}renderHud(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(l.default,{health:this.state.health}),s.a.createElement(c.default,{className:"game__weapon-bar",name:this.state.weaponName,isReload:this.state.isReload}))}render(){return s.a.createElement("div",{className:"game"},this.renderStateStrategy[this.state.pageState]())}}v.propTypes={messageBusObserver:i.a.any,pushMessage:i.a.func,gameObjects:i.a.any},n.default=Object(o.default)(v)},220:function(e,n,t){"use strict";t.r(n);var a=t(176),s=t.n(a),r=t(189),i=t.n(r);t(221);class o extends s.a.PureComponent{render(){return s.a.createElement("div",{className:`health-bar ${this.props.className}`},"Health: ",this.props.health||"")}}o.defaultProps={className:""},o.propTypes={className:i.a.string,health:i.a.number},n.default=o},221:function(e,n,t){var a=t(212),s=t(222);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var r={insert:"head",singleton:!1};a(s,r);e.exports=s.locals||{}},222:function(e,n,t){"use strict";t.r(n);var a=t(214),s=t.n(a)()(!1);s.push([e.i,".health-bar {\n  font-family: sans-serif;\n  font-size: 36px;\n  font-weight: bold;\n  text-transform: uppercase;\n\n  text-shadow: 2px 2px 0px #000;\n\n  color: #fff;\n\n  padding: 30px;\n\n  user-select: none;\n}\n\n@media screen and (max-width: 480px) {\n  .health-bar {\n    font-size: 24px;\n    padding: 15px;\n  }\n}",""]),n.default=s},223:function(e,n,t){"use strict";t.r(n);var a=t(176),s=t.n(a),r=t(189),i=t.n(r);t(224);class o extends s.a.PureComponent{renderCooldownSection(){if(this.props.isReload)return s.a.createElement("div",{className:"weapon-bar__section weapon-bar__section_reload"},"Reload")}render(){return s.a.createElement("div",{className:`weapon-bar ${this.props.className}`},this.renderCooldownSection(),s.a.createElement("div",{className:"weapon-bar__section"},`Weapon: ${this.props.name||""}`))}}o.defaultProps={className:""},o.propTypes={className:i.a.string,name:i.a.string,isReload:i.a.bool},n.default=o},224:function(e,n,t){var a=t(212),s=t(225);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var r={insert:"head",singleton:!1};a(s,r);e.exports=s.locals||{}},225:function(e,n,t){"use strict";t.r(n);var a=t(214),s=t.n(a)()(!1);s.push([e.i,".weapon-bar {\n  display: flex;\n\n  font-family: sans-serif;\n  font-size: 36px;\n  font-weight: bold;\n  text-transform: uppercase;\n  text-shadow: 2px 2px 0px #000;\n\n  color: #fff;\n\n  padding: 30px;\n\n  user-select: none;\n}\n\n.weapon-bar__section + .weapon-bar__section {\n  margin-left: 30px;\n}\n\n.weapon-bar__section_reload {\n  color: #c00;\n}\n\n@media screen and (max-width: 480px) {\n  .weapon-bar {\n    padding: 15px;\n    font-size: 24px;\n\n    flex-direction: column;\n  }\n\n  .weapon-bar__section {\n    text-align: right;\n  }\n\n  .weapon-bar__section + .weapon-bar__section {\n    margin-left: 0;\n  }\n}",""]),n.default=s},226:function(e,n,t){var a=t(212),s=t(227);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var r={insert:"head",singleton:!1};a(s,r);e.exports=s.locals||{}},227:function(e,n,t){"use strict";t.r(n);var a=t(214),s=t.n(a)()(!1);s.push([e.i,".game {\n  position: relative;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  width: 100%;\n  height: 100%;\n\n  font-family: sans-serif;\n}\n\n.game__weapon-bar {\n  align-self: flex-end;\n}\n\n.game__overlay {\n  position: absolute;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 100%;\n  height: 100%;\n\n  background-color: rgba(0, 0, 0, 0.5);\n}\n\n.dialog {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  width: 75%;\n  max-width: 400px;\n\n  padding: 30px;\n\n  background-color: #000;\n  color: #fff;\n}\n\n.dialog__title {\n  margin: 0 0 30px 0;\n  font-size: 48px;\n\n  text-transform: uppercase;\n}\n\n.dialog__footer {\n  display: flex;\n  align-items: center;\n\n  width: 100%;\n}\n\n.dialog__button + .dialog__button {\n  margin-left: 25px;\n}\n\n@media screen and (max-width: 480px) {\n  .dialog {\n    padding: 20px;\n  }\n\n  .dialog__title {\n    font-size: 36px;\n    margin: 0 0 20px 0;\n  }\n\n  .dialog__footer {\n    flex-direction: column;\n  }\n\n  .dialog__button + .dialog__button {\n    margin: 15px 0 0 0;\n  }\n}",""]),n.default=s},228:function(e,n,t){"use strict";t.r(n);var a=t(176),s=t.n(a);class r extends s.a.Component{render(){return s.a.createElement("span",null,"Circles scene")}}r.propTypes={},n.default=r},229:function(e,n,t){"use strict";t.r(n);var a=t(176),s=t.n(a);class r extends s.a.Component{render(){return s.a.createElement("span",null,"Boxes and circles scene")}}r.propTypes={},n.default=r}}]);